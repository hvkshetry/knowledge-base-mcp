# Ollama Configuration
# URL for Ollama API (for embeddings)
OLLAMA_URL=http://localhost:11434

# Embedding model to use (must be pulled with `ollama pull`)
# Recommended: snowflake-arctic-embed:xs (384-dim, CPU-friendly)
# Alternatives: nomic-embed-text, mxbai-embed-large
OLLAMA_MODEL=snowflake-arctic-embed:xs

# TEI Reranker Configuration
# URL for Hugging Face Text Embeddings Inference reranker
TEI_RERANK_URL=http://localhost:8087

# Qdrant Configuration
# URL for Qdrant vector database
QDRANT_URL=http://localhost:6333

# Optional: Qdrant API key (if using authentication)
# QDRANT_API_KEY=your-api-key-here

# SQLite FTS Database Path
# Path to SQLite full-text search database
# Can use collection-specific paths or single shared database
FTS_DB_PATH=data/fts.db

# Multi-Collection Configuration (JSON string)
# Each key becomes a search tool (e.g., search_technical_kb, search_legal_kb)
# Format: {"scope_name": {"collection": "qdrant_collection", "title": "Display Name"}}
NOMIC_KB_SCOPES={"kb":{"collection":"main_kb","title":"Main Knowledge Base"}}

# Search Configuration (Optional)
# Maximum characters per chunk for reranking (to fit model context)
RERANK_MAX_CHARS=700

# Maximum number of items to send to reranker
RERANK_MAX_ITEMS=16

# Reciprocal Rank Fusion K parameter for hybrid search
HYBRID_RRF_K=60

# Number of adjacent chunks to include for context expansion
# 0 = no expansion, 1 = include 1 neighbor on each side, etc.
NEIGHBOR_CHUNKS=1

# Time Decay Configuration (Optional)
# Number of days for time-decay half-life (0 = disabled)
DECAY_HALF_LIFE_DAYS=0

# Strength of time-decay effect (0.0-1.0)
DECAY_STRENGTH=0.0

# Minimum answerability score threshold (0.0 = return all results)
ANSWERABILITY_THRESHOLD=0.0
